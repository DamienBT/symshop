{% extends "base.html.twig" %}

{% block title %}{% endblock %}

{% block body %}

	<form id="payment-form">

		<div id="card-element"><!--Stripe.js injects the Card Element--></div>

		<button class="btn btn-success" id="submit">

			<div class="spinner hidden" id="spinner"></div>

			<span id="button-text">Pay now</span>

		</button>

		<p id="card-error" role="alert"></p>


	</form>

{% endblock %}

{% block javascripts %}
	{{parent()}}

	<script src="https://js.stripe.com/v3/"></script>

	<script>
		const clientSecret = '{{ clientSecret }}';
const stripePublicKey = "{{ stripePublicKey }}";
const RedirectAfterSuccessUrl = "{{ url('purchase_payment_success', {'id': purchase.id} ) }}";
	</script>
	<script src="/js/payment.js"></script>
{% endblock %}
